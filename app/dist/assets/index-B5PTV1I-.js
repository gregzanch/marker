var un=Object.defineProperty;var _e=t=>{throw TypeError(t)};var cn=(t,e,n)=>e in t?un(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>cn(t,typeof e!="symbol"?e+"":e,n),fn=(t,e,n)=>e.has(t)||_e("Cannot "+n);var E=(t,e,n)=>(fn(t,e,"read from private field"),n?n.call(t):e.get(t)),F=(t,e,n)=>e.has(t)?_e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const dn=!1;var ee=Array.isArray,ne=Array.from,hn=Object.defineProperty,et=Object.getOwnPropertyDescriptor,Se=Object.getOwnPropertyDescriptors,vn=Object.prototype,pn=Array.prototype,Rt=Object.getPrototypeOf;function _n(t){return t()}function Wt(t){for(var e=0;e<t.length;e++)t[e]()}const I=2,Pe=4,Lt=8,re=16,D=32,St=64,Yt=128,G=256,At=512,R=1024,Z=2048,Pt=4096,B=8192,st=16384,Cn=32768,ie=65536,mn=1<<17,wn=1<<19,Te=1<<20,nt=Symbol("$state"),gn=Symbol("legacy props"),yn=Symbol("");function Ne(t){return t===this.v}function xn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ke(t){return!xn(t,this.v)}function bn(t){throw new Error("effect_in_teardown")}function En(){throw new Error("effect_in_unowned_derived")}function Ln(t){throw new Error("effect_orphan")}function Sn(){throw new Error("effect_update_depth_exceeded")}function Pn(t){throw new Error("props_invalid_value")}function Tn(){throw new Error("state_descriptors_fixed")}function Nn(){throw new Error("state_prototype_fixed")}function kn(){throw new Error("state_unsafe_local_read")}function Rn(){throw new Error("state_unsafe_mutation")}let ot=!1;function An(){ot=!0}function j(t){return{f:0,v:t,reactions:null,equals:Ne,version:0}}function M(t){return jn(j(t))}function On(t,e=!1){var r;const n=j(t);return e||(n.equals=ke),ot&&b!==null&&b.l!==null&&((r=b.l).s??(r.s=[])).push(n),n}function jn(t){return g!==null&&g.f&I&&($===null?nr([t]):$.push(t)),t}function L(t,e){return g!==null&&fe()&&g.f&(I|re)&&($===null||!$.includes(t))&&Rn(),Re(t,e)}function Re(t,e){return t.equals(e)||(t.v=e,t.version=Ge(),Ae(t,Z),fe()&&p!==null&&p.f&R&&!(p.f&D)&&(T!==null&&T.includes(t)?(q(p,Z),$t(p)):Y===null?rr([t]):Y.push(t))),e}function Ae(t,e){var n=t.reactions;if(n!==null)for(var r=fe(),i=n.length,s=0;s<i;s++){var o=n[s],c=o.f;c&Z||!r&&o===p||(q(o,e),c&(R|G)&&(c&I?Ae(o,Pt):$t(o)))}}const Mn=1,In=2,Dn=16,Fn=1,Bn=2,$n=8,Un=2,A=Symbol();let Oe=!1;function S(t,e=null,n){if(typeof t!="object"||t===null||nt in t)return t;const r=Rt(t);if(r!==vn&&r!==pn)return t;var i=new Map,s=ee(t),o=j(0);s&&i.set("length",j(t.length));var c;return new Proxy(t,{defineProperty(f,l,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&Tn();var d=i.get(l);return d===void 0?(d=j(a.value),i.set(l,d)):L(d,S(a.value,c)),!0},deleteProperty(f,l){var a=i.get(l);if(a===void 0)l in f&&i.set(l,j(A));else{if(s&&typeof l=="string"){var d=i.get("length"),u=Number(l);Number.isInteger(u)&&u<d.v&&L(d,u)}L(a,A),Ce(o)}return!0},get(f,l,a){var v;if(l===nt)return t;var d=i.get(l),u=l in f;if(d===void 0&&(!u||(v=et(f,l))!=null&&v.writable)&&(d=j(S(u?f[l]:A,c)),i.set(l,d)),d!==void 0){var h=y(d);return h===A?void 0:h}return Reflect.get(f,l,a)},getOwnPropertyDescriptor(f,l){var a=Reflect.getOwnPropertyDescriptor(f,l);if(a&&"value"in a){var d=i.get(l);d&&(a.value=y(d))}else if(a===void 0){var u=i.get(l),h=u==null?void 0:u.v;if(u!==void 0&&h!==A)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return a},has(f,l){var h;if(l===nt)return!0;var a=i.get(l),d=a!==void 0&&a.v!==A||Reflect.has(f,l);if(a!==void 0||p!==null&&(!d||(h=et(f,l))!=null&&h.writable)){a===void 0&&(a=j(d?S(f[l],c):A),i.set(l,a));var u=y(a);if(u===A)return!1}return d},set(f,l,a,d){var k;var u=i.get(l),h=l in f;if(s&&l==="length")for(var v=a;v<u.v;v+=1){var C=i.get(v+"");C!==void 0?L(C,A):v in f&&(C=j(A),i.set(v+"",C))}u===void 0?(!h||(k=et(f,l))!=null&&k.writable)&&(u=j(void 0),L(u,S(a,c)),i.set(l,u)):(h=u.v!==A,L(u,S(a,c)));var x=Reflect.getOwnPropertyDescriptor(f,l);if(x!=null&&x.set&&x.set.call(d,a),!h){if(s&&typeof l=="string"){var m=i.get("length"),P=Number(l);Number.isInteger(P)&&P>=m.v&&L(m,P+1)}Ce(o)}return!0},ownKeys(f){y(o);var l=Reflect.ownKeys(f).filter(u=>{var h=i.get(u);return h===void 0||h.v!==A});for(var[a,d]of i)d.v!==A&&!(a in f)&&l.push(a);return l},setPrototypeOf(){Nn()}})}function Ce(t,e=1){L(t,t.v+e)}var me,je,Me;function qn(){if(me===void 0){me=window;var t=Element.prototype,e=Node.prototype;je=et(e,"firstChild").get,Me=et(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function se(t=""){return document.createTextNode(t)}function ht(t){return je.call(t)}function It(t){return Me.call(t)}function N(t,e){return ht(t)}function Hn(t,e){{var n=ht(t);return n instanceof Comment&&n.data===""?It(n):n}}function H(t,e=1,n=!1){let r=t;for(;e--;)r=It(r);return r}function Vn(t){t.textContent=""}function oe(t){var e=I|Z;p===null?e|=G:p.f|=Te;var n=g!==null&&g.f&I?g:null;const r={children:null,ctx:b,deps:null,equals:Ne,f:e,fn:t,reactions:null,v:null,version:0,parent:n??p};return n!==null&&(n.children??(n.children=[])).push(r),r}function zn(t){const e=oe(t);return e.equals=ke,e}function Ie(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&I?ae(r):K(r)}}}function Wn(t){for(var e=t.parent;e!==null;){if(!(e.f&I))return e;e=e.parent}return null}function De(t){var e,n=p;U(Wn(t));try{Ie(t),e=Ke(t)}finally{U(n)}return e}function Fe(t){var e=De(t),n=(tt||t.f&G)&&t.deps!==null?Pt:R;q(t,n),t.equals(e)||(t.v=e,t.version=Ge())}function ae(t){Ie(t),vt(t,0),q(t,st),t.v=t.children=t.deps=t.ctx=t.reactions=null}function Be(t){p===null&&g===null&&Ln(),g!==null&&g.f&G&&En(),ce&&bn()}function Yn(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function at(t,e,n,r=!0){var i=(t&St)!==0,s=p,o={ctx:b,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|Z,first:null,fn:e,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var c=rt;try{we(!0),Bt(o),o.f|=Cn}catch(a){throw K(o),a}finally{we(c)}}else e!==null&&$t(o);var f=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Te)===0;if(!f&&!i&&r&&(s!==null&&Yn(o,s),g!==null&&g.f&I)){var l=g;(l.children??(l.children=[])).push(o)}return o}function Zn(t){const e=at(Lt,null,!1);return q(e,R),e.teardown=t,e}function Zt(t){Be();var e=p!==null&&(p.f&D)!==0&&b!==null&&!b.m;if(e){var n=b;(n.e??(n.e=[])).push({fn:t,effect:p,reaction:g})}else{var r=$e(t);return r}}function Jn(t){return Be(),Kn(t)}function Gn(t){const e=at(St,t,!0);return()=>{K(e)}}function $e(t){return at(Pe,t,!1)}function Kn(t){return at(Lt,t,!0)}function it(t){return le(t)}function le(t,e=0){return at(Lt|re|e,t,!0)}function Dt(t,e=!0){return at(Lt|D,t,!0,e)}function Ue(t){var e=t.teardown;if(e!==null){const n=ce,r=g;ge(!0),J(null);try{e.call(null)}finally{ge(n),J(r)}}}function qe(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)ae(e[n])}}function He(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;K(n,e),n=r}}function Xn(t){for(var e=t.first;e!==null;){var n=e.next;e.f&D||K(e),e=n}}function K(t,e=!0){var n=!1;if((e||t.f&wn)&&t.nodes_start!==null){for(var r=t.nodes_start,i=t.nodes_end;r!==null;){var s=r===i?null:It(r);r.remove(),r=s}n=!0}He(t,e&&!n),qe(t),vt(t,0),q(t,st);var o=t.transitions;if(o!==null)for(const f of o)f.stop();Ue(t);var c=t.parent;c!==null&&c.first!==null&&Ve(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Ve(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function ze(t,e){var n=[];ue(t,n,!0),We(n,()=>{K(t),e&&e()})}function We(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function ue(t,e,n){if(!(t.f&B)){if(t.f^=B,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&ie)!==0||(r.f&D)!==0;ue(r,e,s?n:!1),r=i}}}function Ye(t){Ze(t,!0)}function Ze(t,e){if(t.f&B){Tt(t)&&Bt(t),t.f^=B;for(var n=t.first;n!==null;){var r=n.next,i=(n.f&ie)!==0||(n.f&D)!==0;Ze(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Jt=!1,Gt=[];function Qn(){Jt=!1;const t=Gt.slice();Gt=[],Wt(t)}function tr(t){Jt||(Jt=!0,queueMicrotask(Qn)),Gt.push(t)}function er(t){throw new Error("lifecycle_outside_component")}let kt=!1,Ot=!1,jt=null,rt=!1,ce=!1;function we(t){rt=t}function ge(t){ce=t}let Kt=[],ft=0;let g=null;function J(t){g=t}let p=null;function U(t){p=t}let $=null;function nr(t){$=t}let T=null,O=0,Y=null;function rr(t){Y=t}let Je=0,tt=!1,b=null;function Ge(){return++Je}function fe(){return!ot||b!==null&&b.l===null}function Tt(t){var o,c;var e=t.f;if(e&Z)return!0;if(e&Pt){var n=t.deps,r=(e&G)!==0;if(n!==null){var i;if(e&At){for(i=0;i<n.length;i++)((o=n[i]).reactions??(o.reactions=[])).push(t);t.f^=At}for(i=0;i<n.length;i++){var s=n[i];if(Tt(s)&&Fe(s),r&&p!==null&&!tt&&!((c=s==null?void 0:s.reactions)!=null&&c.includes(t))&&(s.reactions??(s.reactions=[])).push(t),s.version>t.version)return!0}}r||q(t,R)}return!1}function ir(t,e){for(var n=e;n!==null;){if(n.f&Yt)try{n.fn(t);return}catch{n.f^=Yt}n=n.parent}throw kt=!1,t}function sr(t){return(t.f&st)===0&&(t.parent===null||(t.parent.f&Yt)===0)}function Ft(t,e,n,r){if(kt){if(n===null&&(kt=!1),sr(e))throw t;return}n!==null&&(kt=!0);{ir(t,e);return}}function Ke(t){var u;var e=T,n=O,r=Y,i=g,s=tt,o=$,c=b,f=t.f;T=null,O=0,Y=null,g=f&(D|St)?null:t,tt=!rt&&(f&G)!==0,$=null,b=t.ctx;try{var l=(0,t.fn)(),a=t.deps;if(T!==null){var d;if(vt(t,O),a!==null&&O>0)for(a.length=O+T.length,d=0;d<T.length;d++)a[O+d]=T[d];else t.deps=a=T;if(!tt)for(d=O;d<a.length;d++)((u=a[d]).reactions??(u.reactions=[])).push(t)}else a!==null&&O<a.length&&(vt(t,O),a.length=O);return l}finally{T=e,O=n,Y=r,g=i,tt=s,$=o,b=c}}function or(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&e.f&I&&(T===null||!T.includes(e))&&(q(e,Pt),e.f&(G|At)||(e.f^=At),vt(e,0))}function vt(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)or(t,n[r])}function Bt(t){var e=t.f;if(!(e&st)){q(t,R);var n=p,r=b;p=t;try{e&re?Xn(t):He(t),qe(t),Ue(t);var i=Ke(t);t.teardown=typeof i=="function"?i:null,t.version=Je}catch(s){Ft(s,t,n,r||t.ctx)}finally{p=n}}}function ar(){if(ft>1e3){ft=0;try{Sn()}catch(t){if(jt!==null)Ft(t,jt,null);else throw t}}ft++}function lr(t){var e=t.length;if(e!==0){ar();var n=rt;rt=!0;try{for(var r=0;r<e;r++){var i=t[r];i.f&R||(i.f^=R);var s=[];Xe(i,s),ur(s)}}finally{rt=n}}}function ur(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if(!(r.f&(st|B)))try{Tt(r)&&(Bt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Ve(r):r.fn=null))}catch(i){Ft(i,r,null,r.ctx)}}}function cr(){if(Ot=!1,ft>1001)return;const t=Kt;Kt=[],lr(t),Ot||(ft=0,jt=null)}function $t(t){Ot||(Ot=!0,queueMicrotask(cr)),jt=t;for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(St|D)){if(!(n&R))return;e.f^=R}}Kt.push(e)}function Xe(t,e){var n=t.first,r=[];t:for(;n!==null;){var i=n.f,s=(i&D)!==0,o=s&&(i&R)!==0,c=n.next;if(!o&&!(i&B))if(i&Lt){if(s)n.f^=R;else try{Tt(n)&&Bt(n)}catch(d){Ft(d,n,null,n.ctx)}var f=n.first;if(f!==null){n=f;continue}}else i&Pe&&r.push(n);if(c===null){let d=n.parent;for(;d!==null;){if(t===d)break t;var l=d.next;if(l!==null){n=l;continue t}d=d.parent}}n=c}for(var a=0;a<r.length;a++)f=r[a],e.push(f),Xe(f,e)}function y(t){var a;var e=t.f,n=(e&I)!==0;if(n&&e&st){var r=De(t);return ae(t),r}if(g!==null){$!==null&&$.includes(t)&&kn();var i=g.deps;T===null&&i!==null&&i[O]===t?O++:T===null?T=[t]:T.push(t),Y!==null&&p!==null&&p.f&R&&!(p.f&D)&&Y.includes(t)&&(q(p,Z),$t(p))}else if(n&&t.deps===null)for(var s=t,o=s.parent,c=s;o!==null;)if(o.f&I){var f=o;c=f,o=f.parent}else{var l=o;(a=l.deriveds)!=null&&a.includes(c)||(l.deriveds??(l.deriveds=[])).push(c);break}return n&&(s=t,Tt(s)&&Fe(s)),t.v}function Qe(t){const e=g;try{return g=null,t()}finally{g=e}}const fr=~(Z|Pt|R);function q(t,e){t.f=t.f&fr|e}function lt(t,e=!1,n){b={p:b,c:null,e:null,m:!1,s:t,x:null,l:null},ot&&!e&&(b.l={s:null,u:null,r1:[],r2:j(!1)})}function ut(t){const e=b;if(e!==null){const o=e.e;if(o!==null){var n=p,r=g;e.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];U(s.effect),J(s.reaction),$e(s.fn)}}finally{U(n),J(r)}}b=e.p,e.m=!0}return{}}function dr(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(nt in t)Xt(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&nt in n&&Xt(n)}}}function Xt(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Xt(t[r],e)}catch{}const n=Rt(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Se(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}function hr(t){var e=g,n=p;J(null),U(null);try{return t()}finally{J(e),U(n)}}const tn=new Set,Qt=new Set;function vr(t,e,n,r){function i(s){if(r.capture||ct.call(e,s),!s.cancelBubble)return hr(()=>n.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?tr(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function pr(t,e,n,r,i){var s={capture:r,passive:i},o=vr(t,e,n,s);(e===document.body||e===window||e===document)&&Zn(()=>{e.removeEventListener(t,o,s)})}function _r(t){for(var e=0;e<t.length;e++)tn.add(t[e]);for(var n of Qt)n(t)}function ct(t){var P;var e=this,n=e.ownerDocument,r=t.type,i=((P=t.composedPath)==null?void 0:P.call(t))||[],s=i[0]||t.target,o=0,c=t.__root;if(c){var f=i.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;f<=l&&(o=f)}if(s=i[o]||t.target,s!==e){hn(t,"currentTarget",{configurable:!0,get(){return s||n}});var a=g,d=p;J(null),U(null);try{for(var u,h=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var C=s["__"+r];if(C!==void 0&&!s.disabled)if(ee(C)){var[x,...m]=C;x.apply(s,[t,...m])}else C.call(s,t)}catch(k){u?h.push(k):u=k}if(t.cancelBubble||v===e||v===null)break;s=v}if(u){for(let k of h)queueMicrotask(()=>{throw k});throw u}}finally{t.__root=e,delete t.currentTarget,J(a),U(d)}}}function en(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function de(t,e){var n=p;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function X(t,e){var n=(e&Un)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=en(i?t:"<!>"+t),r=ht(r));var s=n?document.importNode(r,!0):r.cloneNode(!0);return de(s,s),s}}function Cr(t,e,n="svg"){var r=!t.startsWith("<!>"),i=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var o=en(i),c=ht(o);s=ht(c)}var f=s.cloneNode(!0);return de(f,f),f}}function mr(){var t=document.createDocumentFragment(),e=document.createComment(""),n=se();return t.append(e,n),de(e,n),t}function V(t,e){t!==null&&t.before(e)}const wr=["touchstart","touchmove"];function gr(t){return wr.includes(t)}function pt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function yr(t,e){return xr(t,e)}const Q=new Map;function xr(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){qn();var c=new Set,f=d=>{for(var u=0;u<d.length;u++){var h=d[u];if(!c.has(h)){c.add(h);var v=gr(h);e.addEventListener(h,ct,{passive:v});var C=Q.get(h);C===void 0?(document.addEventListener(h,ct,{passive:v}),Q.set(h,1)):Q.set(h,C+1)}}};f(ne(tn)),Qt.add(f);var l=void 0,a=Gn(()=>{var d=n??e.appendChild(se());return Dt(()=>{if(s){lt({});var u=b;u.c=s}i&&(r.$$events=i),l=t(d,r)||{},s&&ut()}),()=>{var v;for(var u of c){e.removeEventListener(u,ct);var h=Q.get(u);--h===0?(document.removeEventListener(u,ct),Q.delete(u)):Q.set(u,h)}Qt.delete(f),ye.delete(l),d!==n&&((v=d.parentNode)==null||v.removeChild(d))}});return ye.set(l,a),l}let ye=new WeakMap;function br(t,e){return e}function Er(t,e,n,r){for(var i=[],s=e.length,o=0;o<s;o++)ue(e[o].e,i,!0);var c=s>0&&i.length===0&&n!==null;if(c){var f=n.parentNode;Vn(f),f.append(n),r.clear(),W(t,e[0].prev,e[s-1].next)}We(i,()=>{for(var l=0;l<s;l++){var a=e[l];c||(r.delete(a.k),W(t,a.prev,a.next)),K(a.e,!c)}})}function Lr(t,e,n,r,i,s=null){var o=t,c={flags:e,items:new Map,first:null};{var f=t;o=f.appendChild(se())}var l=null,a=!1;le(()=>{var d=n(),u=ee(d)?d:d==null?[]:ne(d),h=u.length;if(!(a&&h===0)){a=h===0;{var v=g;Sr(u,c,o,i,e,(v.f&B)!==0,r)}s!==null&&(h===0?l?Ye(l):l=Dt(()=>s(o)):l!==null&&ze(l,()=>{l=null}))}})}function Sr(t,e,n,r,i,s,o){var c=t.length,f=e.items,l=e.first,a=l,d,u=null,h=[],v=[],C,x,m,P;for(P=0;P<c;P+=1){if(C=t[P],x=o(C,P),m=f.get(x),m===void 0){var k=a?a.e.nodes_start:n;u=Tr(k,e,u,u===null?e.first:u.next,C,x,P,r,i),f.set(x,u),h=[],v=[],a=u.next;continue}if(Pr(m,C,P),m.e.f&B&&Ye(m.e),m!==a){if(d!==void 0&&d.has(m)){if(h.length<v.length){var Nt=v[0],z;u=Nt.prev;var pe=h[0],qt=h[h.length-1];for(z=0;z<h.length;z+=1)xe(h[z],Nt,n);for(z=0;z<v.length;z+=1)d.delete(v[z]);W(e,pe.prev,qt.next),W(e,u,pe),W(e,qt,Nt),a=Nt,u=qt,P-=1,h=[],v=[]}else d.delete(m),xe(m,a,n),W(e,m.prev,m.next),W(e,m,u===null?e.first:u.next),W(e,u,m),u=m;continue}for(h=[],v=[];a!==null&&a.k!==x;)(s||!(a.e.f&B))&&(d??(d=new Set)).add(a),v.push(a),a=a.next;if(a===null)continue;m=a}h.push(m),u=m,a=m.next}if(a!==null||d!==void 0){for(var Ht=d===void 0?[]:ne(d);a!==null;)(s||!(a.e.f&B))&&Ht.push(a),a=a.next;var an=Ht.length;if(an>0){var ln=c===0?n:null;Er(e,Ht,ln,f)}}p.first=e.first&&e.first.e,p.last=u&&u.e}function Pr(t,e,n,r){Re(t.v,e),t.i=n}function Tr(t,e,n,r,i,s,o,c,f){var l=(f&Mn)!==0,a=(f&Dn)===0,d=l?a?On(i):j(i):i,u=f&In?j(o):o,h={i:u,v:d,k:s,a:null,e:null,prev:n,next:r};try{return h.e=Dt(()=>c(t,d,u),Oe),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?e.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function xe(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var o=It(s);i.before(s),s=o}}function W(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Nr(t,e,n,r,i){var c;var s=(c=e.$$slots)==null?void 0:c[n],o=!1;s===!0&&(s=e.children,o=!0),s===void 0||s(t,o?()=>r:r)}function kr(t,e,n){var r=t,i,s;le(()=>{i!==(i=e())&&(s&&(ze(s),s=null),i&&(s=Dt(()=>n(r,i))))},ie)}function te(t,e,n,r){var i=t.__attributes??(t.__attributes={});i[e]!==(i[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[yn]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Rr(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var be=new Map;function Rr(t){var e=be.get(t.nodeName);if(e)return e;be.set(t.nodeName,e=[]);for(var n,r=Rt(t),i=Element.prototype;i!==r;){n=Se(r);for(var s in n)n[s].set&&e.push(s);r=Rt(r)}return e}function Ar(t,e){var n=t.__className,r=Or(e);(n!==r||Oe)&&(r===""?t.removeAttribute("class"):t.setAttribute("class",r),t.__className=r)}function Or(t){return t??""}function Ee(t,e,n,r){var i=t.__styles??(t.__styles={});i[e]!==n&&(i[e]=n,n==null?t.style.removeProperty(e):t.style.setProperty(e,n,""))}function jr(t=!1){const e=b,n=e.l.u;if(!n)return;let r=()=>dr(e.s);if(t){let i=0,s={};const o=oe(()=>{let c=!1;const f=e.s;for(const l in f)f[l]!==s[l]&&(s[l]=f[l],c=!0);return c&&i++,i});r=()=>y(o)}n.b.length&&Jn(()=>{Le(e,r),Wt(n.b)}),Zt(()=>{const i=Qe(()=>n.m.map(_n));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Zt(()=>{Le(e,r),Wt(n.a)})}function Le(t,e){if(t.l.s)for(const n of t.l.s)y(n);e()}function Mr(t){for(var e=p,n=p;e!==null&&!(e.f&(D|St));)e=e.parent;try{return U(e),t()}finally{U(n)}}function Ir(t,e,n,r){var C;var i=(n&Fn)!==0,s=!ot||(n&Bn)!==0,o=(n&$n)!==0,c;c=t[e];var f=nt in t||gn in t,l=((C=et(t,e))==null?void 0:C.set)??(f&&o&&e in t?x=>t[e]=x:void 0),a=r,d=!0,u=()=>(d&&(d=!1,a=r),a);c===void 0&&r!==void 0&&(l&&s&&Pn(),c=u(),l&&l(c));var h;if(s)h=()=>{var x=t[e];return x===void 0?u():(d=!0,x)};else{var v=Mr(()=>(i?oe:zn)(()=>t[e]));v.f|=mn,h=()=>{var x=y(v);return x!==void 0&&(a=void 0),x===void 0?a:x}}return h}function he(t){b===null&&er(),ot&&b.l!==null?Dr(b).m.push(t):Zt(()=>{const e=Qe(t);if(typeof e=="function")return e})}function Dr(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Fr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fr);An();const Br="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let nn=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=Br[n[t]&63];return e};function dt(t,e){return JSON.stringify({type:t,...e})}var _t,Ct;class $r{constructor(e){F(this,_t,M());F(this,Ct,M("closed"));_(this,"eventListeners",{"cursor-change":[],"draw-ellipse":[],"user-joined":[],"create-new-line":[],"add-points-to-line":[],"user-left":[]});if(this.id=e,!window.WebSocket)throw new Error("Your browser does not support WebSockets.");this.initiateConnection().catch(console.error)}get connection(){return y(E(this,_t))}set connection(e){L(E(this,_t),S(e))}get status(){return y(E(this,Ct))}set status(e){L(E(this,Ct),S(e))}async initiateConnection(){try{this.connection=new WebSocket(`ws://${document.location.host}/ws/${this.id}/${w.name}/${w.id}`),this.connection.addEventListener("open",this.open.bind(this)),this.connection.addEventListener("close",this.close.bind(this)),this.connection.addEventListener("message",this.onMessage.bind(this)),this.connection.addEventListener("error",this.onError.bind(this))}catch{this.close()}}onError(e){console.error(e)}close(){this.status="closed"}open(){var e;this.status="open",(e=this.connection)==null||e.send(dt("user-joined",{from:{name:w.name,id:w.id},data:{}}))}onMessage(e){const n=e.data.split(`
`);for(const r of n){const i=JSON.parse(r);switch(i.type){case"user-joined":this.onUserJoined(i);break;case"user-left":this.onUserLeft(i);break;case"cursor-change":this.onCursorChange(i);break;case"draw-ellipse":this.onDrawEllipse(i);break;case"create-new-line":this.onCreateNewLine(i);break;case"add-points-to-line":this.onAddPointToLine(i);break}}}addEventListener(e,n){this.eventListeners[e].push(n)}removeEventListener(e,n){const r=this.eventListeners[e].findIndex(i=>i===n);r!==-1&&this.eventListeners[e].splice(r,1)}onCursorChange(e){for(const n of this.eventListeners["cursor-change"])n(e)}onDrawEllipse(e){for(const n of this.eventListeners["draw-ellipse"])n(e)}onUserJoined(e){for(const n of this.eventListeners["user-joined"])n(e)}onUserLeft(e){for(const n of this.eventListeners["user-left"])n(e)}onCreateNewLine(e){for(const n of this.eventListeners["create-new-line"])n(e)}onAddPointToLine(e){for(const n of this.eventListeners["add-points-to-line"])n(e)}}_t=new WeakMap,Ct=new WeakMap;var Ur=X('<div class="page-container svelte-hut4gi"><nav class="svelte-hut4gi"><span class="marker-logo svelte-hut4gi">marker</span></nav> <div class="center svelte-hut4gi"><!></div></div>');function Ut(t,e){var n=Ur(),r=H(N(n),2),i=N(r);Nr(i,e,"default",{}),V(t,n)}var qr=Cr('<svg width="128" height="170" viewBox="0 -10 128 170" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="tip"><path d="M24.0308 38.4804V42.7324C24.6313 64.2112 34.0029 95.969 52.2509 89.2346C71.7484 82.0391 87.526 32.6983 95.8637 7L24.0308 38.4804Z" fill="#1791CF"></path><path d="M24.0308 122H103.56C103.56 122 106.767 30.1285 95.8637 7C87.526 32.6983 71.7484 82.0391 52.2509 89.2346C34.0029 95.969 24.6313 64.2112 24.0308 42.7324V122Z" fill="url(#paint0_linear_93_79)"></path></g><path d="M24 104.5H104C116.979 104.5 127.5 115.021 127.5 128V159.5H0.5V128C0.5 115.021 11.0213 104.5 24 104.5Z" fill="white" stroke="#0D0D0C"></path><path d="M18.256 142C18.256 142 18.1173 142 17.84 142C17.584 142.021 17.2747 141.989 16.912 141.904C16.5707 141.819 16.2507 141.648 15.952 141.392C15.6747 141.115 15.504 140.699 15.44 140.144C15.3973 139.696 15.344 139.099 15.28 138.352C15.2373 137.605 15.184 136.816 15.12 135.984C15.056 135.131 15.0027 134.331 14.96 133.584C14.9173 132.837 14.8747 132.229 14.832 131.76C14.8107 131.269 14.8 131.024 14.8 131.024C14.8 131.024 14.7893 130.928 14.768 130.736C14.768 130.544 14.8107 130.32 14.896 130.064C15.0027 129.787 15.2053 129.541 15.504 129.328C15.8027 129.115 16.272 128.997 16.912 128.976C17.7653 128.933 18.3947 128.987 18.8 129.136C19.2053 129.285 19.472 129.445 19.6 129.616C19.7493 129.787 19.824 129.872 19.824 129.872C19.824 129.872 19.984 129.787 20.304 129.616C20.6453 129.445 21.104 129.285 21.68 129.136C22.256 128.965 22.896 128.88 23.6 128.88C24.4107 128.88 25.072 128.965 25.584 129.136C26.1173 129.307 26.512 129.477 26.768 129.648C27.024 129.819 27.152 129.904 27.152 129.904C27.7707 129.52 28.4 129.296 29.04 129.232C29.7013 129.168 30.448 129.136 31.28 129.136C31.28 129.136 31.4933 129.168 31.92 129.232C32.3467 129.275 32.88 129.403 33.52 129.616C34.16 129.829 34.8 130.181 35.44 130.672C36.1013 131.141 36.656 131.803 37.104 132.656C37.552 133.488 37.7867 134.565 37.808 135.888C37.8507 137.552 37.808 138.811 37.68 139.664C37.552 140.517 37.3707 141.104 37.136 141.424C36.9013 141.744 36.6133 141.925 36.272 141.968C35.9307 141.989 35.5573 142 35.152 142C34.3413 142 33.648 141.829 33.072 141.488C32.5173 141.125 32.304 140.581 32.432 139.856C32.4747 139.579 32.5067 139.131 32.528 138.512C32.5707 137.893 32.5707 137.221 32.528 136.496C32.4853 135.749 32.3893 135.045 32.24 134.384C32.0907 133.701 31.8667 133.147 31.568 132.72C31.2693 132.272 30.8747 132.059 30.384 132.08C30.0213 132.08 29.7333 132.229 29.52 132.528C29.328 132.805 29.1893 133.083 29.104 133.36C29.0187 133.637 28.976 133.776 28.976 133.776L29.392 139.856C29.392 139.856 29.392 139.963 29.392 140.176C29.4133 140.389 29.3707 140.645 29.264 140.944C29.1573 141.221 28.9227 141.467 28.56 141.68C28.1973 141.893 27.632 142 26.864 142C26.096 142 25.5093 141.904 25.104 141.712C24.72 141.52 24.4533 141.296 24.304 141.04C24.1547 140.784 24.0693 140.56 24.048 140.368C24.0267 140.176 24.016 140.069 24.016 140.048C24.016 140.027 24.0267 139.813 24.048 139.408C24.0693 138.981 24.08 138.448 24.08 137.808C24.1013 137.168 24.08 136.496 24.016 135.792C23.952 135.067 23.8347 134.395 23.664 133.776C23.5147 133.136 23.28 132.645 22.96 132.304C22.6613 131.941 22.256 131.792 21.744 131.856C21.2533 131.92 20.9013 132.08 20.688 132.336C20.4747 132.571 20.336 132.795 20.272 133.008C20.2293 133.221 20.208 133.328 20.208 133.328L20.72 140.08C20.72 140.08 20.72 140.176 20.72 140.368C20.7413 140.56 20.688 140.784 20.56 141.04C20.4533 141.296 20.2187 141.52 19.856 141.712C19.5147 141.904 18.9813 142 18.256 142ZM45.7938 128.784C46.8604 128.763 47.7671 128.859 48.5138 129.072C49.2604 129.264 49.8791 129.499 50.3698 129.776C50.8604 130.053 51.2444 130.299 51.5218 130.512C51.7991 130.725 52.0018 130.832 52.1298 130.832C52.3644 130.853 52.5351 130.971 52.6418 131.184C52.7484 131.376 52.8018 131.472 52.8018 131.472C52.8018 131.472 52.8338 131.685 52.8978 132.112C52.9618 132.539 53.0364 133.083 53.1218 133.744C53.2284 134.405 53.3244 135.099 53.4098 135.824C53.4951 136.549 53.5698 137.232 53.6338 137.872C53.6978 138.512 53.7298 139.013 53.7298 139.376C53.7298 139.973 53.6871 140.453 53.6018 140.816C53.5378 141.179 53.3244 141.456 52.9618 141.648C52.5991 141.819 52.0018 141.936 51.1698 142C50.5511 142.043 50.1031 142.032 49.8258 141.968C49.5484 141.904 49.3778 141.829 49.3138 141.744C49.2498 141.659 49.2178 141.616 49.2178 141.616C49.0258 141.765 48.7058 141.872 48.2578 141.936C47.8311 141.979 47.4258 142 47.0417 142C46.6578 142 46.4658 142 46.4658 142C46.4658 142 46.2204 141.968 45.7298 141.904C45.2391 141.819 44.6311 141.659 43.9058 141.424C43.2018 141.168 42.4871 140.795 41.7618 140.304C41.0578 139.792 40.4711 139.12 40.0018 138.288C39.5324 137.435 39.3084 136.379 39.3298 135.12C39.3511 133.861 39.5858 132.837 40.0338 132.048C40.4818 131.237 41.0258 130.608 41.6658 130.16C42.3058 129.712 42.9351 129.392 43.5538 129.2C44.1938 129.008 44.7271 128.891 45.1538 128.848C45.5804 128.805 45.7938 128.784 45.7938 128.784ZM48.1938 132.08C48.0871 131.931 47.8524 131.771 47.4898 131.6C47.1484 131.408 46.8178 131.248 46.4978 131.12C46.1991 130.992 46.0498 130.949 46.0498 130.992C46.0498 131.013 45.9324 131.195 45.6978 131.536C45.4844 131.856 45.2604 132.336 45.0258 132.976C44.8124 133.595 44.6951 134.341 44.6738 135.216C44.6524 136.091 44.7698 136.848 45.0258 137.488C45.2818 138.128 45.5911 138.619 45.9538 138.96C46.3378 139.301 46.6898 139.472 47.0098 139.472C47.2444 139.472 47.4684 139.365 47.6818 139.152C47.8951 138.917 48.0764 138.661 48.2258 138.384C48.3751 138.085 48.4924 137.829 48.5778 137.616C48.6631 137.403 48.7058 137.296 48.7058 137.296L48.1938 132.08ZM56.5175 139.824C56.5175 139.589 56.4855 139.184 56.4215 138.608C56.3575 138.032 56.2722 137.381 56.1655 136.656C56.0802 135.909 55.9842 135.173 55.8775 134.448C55.7708 133.701 55.6535 133.04 55.5255 132.464C55.4188 131.867 55.3228 131.44 55.2375 131.184C55.0242 130.544 55.1415 130.096 55.5895 129.84C56.0588 129.563 56.7095 129.381 57.5415 129.296C58.3735 129.211 58.9708 129.275 59.3335 129.488C59.7175 129.68 59.9095 129.776 59.9095 129.776C60.2295 129.456 60.7522 129.232 61.4775 129.104C62.2242 128.976 63.0028 128.923 63.8135 128.944C64.8588 128.965 65.6162 129.125 66.0855 129.424C66.5548 129.723 66.7895 130.043 66.7895 130.384C66.7895 130.64 66.7575 130.832 66.6935 130.96C66.6295 131.088 66.3735 131.216 65.9255 131.344C65.4988 131.451 64.7202 131.643 63.5895 131.92C62.9282 132.069 62.4375 132.432 62.1175 133.008C61.7975 133.563 61.5948 134.213 61.5095 134.96C61.4455 135.685 61.4455 136.411 61.5095 137.136C61.5735 137.84 61.6482 138.437 61.7335 138.928C61.8188 139.397 61.8615 139.653 61.8615 139.696C61.8615 139.739 61.8722 139.888 61.8935 140.144C61.9362 140.379 61.9042 140.645 61.7975 140.944C61.7122 141.221 61.4882 141.467 61.1255 141.68C60.7628 141.893 60.1868 142 59.3975 142C58.6082 142 58.0108 141.893 57.6055 141.68C57.2002 141.445 56.9228 141.189 56.7735 140.912C56.6242 140.635 56.5388 140.389 56.5175 140.176C56.5175 139.941 56.5175 139.824 56.5175 139.824ZM69.804 140.304C69.804 140.304 69.7827 140.101 69.74 139.696C69.6973 139.269 69.6333 138.725 69.548 138.064C69.4627 137.381 69.356 136.656 69.228 135.888C69.1213 135.12 68.9933 134.384 68.844 133.68C68.6947 132.955 68.5347 132.336 68.364 131.824C68.1507 131.184 68.1187 130.704 68.268 130.384C68.4173 130.043 68.6413 129.808 68.94 129.68C69.26 129.552 69.548 129.488 69.804 129.488C70.0813 129.467 70.22 129.456 70.22 129.456C70.22 129.456 70.3693 129.456 70.668 129.456C70.9667 129.435 71.3187 129.467 71.724 129.552C72.1293 129.637 72.5027 129.808 72.844 130.064C73.1853 130.32 73.3987 130.725 73.484 131.28C73.612 132.005 73.6973 132.464 73.74 132.656C73.7827 132.848 73.804 132.923 73.804 132.88C73.8253 132.816 73.836 132.784 73.836 132.784L77.452 129.488C77.452 129.488 77.5693 129.403 77.804 129.232C78.06 129.04 78.4547 128.901 78.988 128.816C79.5427 128.709 80.2573 128.784 81.132 129.04C81.7507 129.211 82.1027 129.435 82.188 129.712C82.2947 129.989 82.2627 130.245 82.092 130.48C81.9427 130.715 81.8147 130.885 81.708 130.992C81.644 131.056 81.452 131.248 81.132 131.568C80.812 131.867 80.428 132.229 79.98 132.656C79.5533 133.061 79.1267 133.467 78.7 133.872C78.2733 134.277 77.9213 134.619 77.644 134.896C77.3667 135.173 77.228 135.312 77.228 135.312L82.38 138.896C82.38 138.896 82.476 138.981 82.668 139.152C82.8813 139.301 83.0733 139.504 83.244 139.76C83.4147 140.016 83.468 140.293 83.404 140.592C83.3613 140.869 83.0733 141.136 82.54 141.392C82.0067 141.648 81.484 141.755 80.972 141.712C80.4813 141.648 80.0333 141.52 79.628 141.328C79.244 141.136 78.9347 140.955 78.7 140.784C78.4653 140.613 78.348 140.528 78.348 140.528L74.7 138L74.924 140.624C74.924 140.624 74.9027 140.741 74.86 140.976C74.8173 141.189 74.6253 141.413 74.284 141.648C73.964 141.883 73.388 142 72.556 142C71.724 142 71.116 141.861 70.732 141.584C70.348 141.285 70.092 140.997 69.964 140.72C69.8573 140.443 69.804 140.304 69.804 140.304ZM97.7875 132.336C97.7235 133.403 97.4248 134.267 96.8915 134.928C96.3582 135.568 95.7075 136.059 94.9395 136.4C94.1928 136.72 93.4462 136.944 92.6995 137.072C91.9528 137.179 91.3235 137.232 90.8115 137.232C90.3208 137.232 90.0755 137.232 90.0755 137.232C90.2035 137.979 90.3848 138.512 90.6195 138.832C90.8542 139.152 91.1102 139.333 91.3875 139.376C91.6862 139.419 91.9635 139.397 92.2195 139.312C92.4755 139.205 92.6782 139.088 92.8275 138.96C92.9982 138.832 93.0835 138.768 93.0835 138.768C93.0835 138.768 93.2008 138.672 93.4355 138.48C93.6702 138.288 94.0328 138.107 94.5235 137.936C95.0355 137.744 95.6755 137.648 96.4435 137.648C97.3182 137.648 97.9048 137.765 98.2035 138C98.5235 138.213 98.6728 138.469 98.6515 138.768C98.6515 139.045 98.5875 139.301 98.4595 139.536C98.3528 139.749 98.2995 139.856 98.2995 139.856C98.2995 139.856 98.2035 139.963 98.0115 140.176C97.8408 140.368 97.5208 140.603 97.0515 140.88C96.5822 141.157 95.9315 141.413 95.0995 141.648C94.2675 141.861 93.2008 141.979 91.8995 142C90.6408 142.021 89.5848 141.851 88.7315 141.488C87.8782 141.125 87.1742 140.656 86.6195 140.08C86.0648 139.483 85.6382 138.864 85.3395 138.224C85.0622 137.563 84.8595 136.955 84.7315 136.4C84.6248 135.824 84.5715 135.376 84.5715 135.056C84.5715 134.736 84.5928 134.32 84.6355 133.808C84.6995 133.296 84.8382 132.763 85.0515 132.208C85.2862 131.632 85.6382 131.088 86.1075 130.576C86.5768 130.064 87.2168 129.648 88.0275 129.328C88.8595 129.008 89.9155 128.837 91.1955 128.816C92.7955 128.795 94.0435 128.933 94.9395 129.232C95.8355 129.531 96.4862 129.893 96.8915 130.32C97.2968 130.747 97.5422 131.152 97.6275 131.536C97.7342 131.92 97.7875 132.187 97.7875 132.336ZM89.6275 135.024C90.9288 134.917 91.8995 134.64 92.5395 134.192C93.1795 133.744 93.5528 133.243 93.6595 132.688C93.7662 132.133 93.6595 131.664 93.3395 131.28C93.0408 130.875 92.5822 130.693 91.9635 130.736C91.3448 130.757 90.8755 130.992 90.5555 131.44C90.2355 131.867 90.0115 132.368 89.8835 132.944C89.7555 133.499 89.6808 133.989 89.6595 134.416C89.6382 134.821 89.6275 135.024 89.6275 135.024ZM101.674 139.824C101.674 139.589 101.642 139.184 101.578 138.608C101.514 138.032 101.428 137.381 101.322 136.656C101.236 135.909 101.14 135.173 101.034 134.448C100.927 133.701 100.81 133.04 100.682 132.464C100.575 131.867 100.479 131.44 100.394 131.184C100.18 130.544 100.298 130.096 100.746 129.84C101.215 129.563 101.866 129.381 102.698 129.296C103.53 129.211 104.127 129.275 104.49 129.488C104.874 129.68 105.066 129.776 105.066 129.776C105.386 129.456 105.908 129.232 106.634 129.104C107.38 128.976 108.159 128.923 108.97 128.944C110.015 128.965 110.772 129.125 111.242 129.424C111.711 129.723 111.946 130.043 111.946 130.384C111.946 130.64 111.914 130.832 111.85 130.96C111.786 131.088 111.53 131.216 111.082 131.344C110.655 131.451 109.876 131.643 108.746 131.92C108.084 132.069 107.594 132.432 107.274 133.008C106.954 133.563 106.751 134.213 106.666 134.96C106.602 135.685 106.602 136.411 106.666 137.136C106.73 137.84 106.804 138.437 106.89 138.928C106.975 139.397 107.018 139.653 107.018 139.696C107.018 139.739 107.028 139.888 107.05 140.144C107.092 140.379 107.06 140.645 106.954 140.944C106.868 141.221 106.644 141.467 106.282 141.68C105.919 141.893 105.343 142 104.554 142C103.764 142 103.167 141.893 102.762 141.68C102.356 141.445 102.079 141.189 101.93 140.912C101.78 140.635 101.695 140.389 101.674 140.176C101.674 139.941 101.674 139.824 101.674 139.824Z" fill="#0D0D0C"></path><defs><linearGradient id="paint0_linear_93_79" x1="24" y1="122" x2="104" y2="122" gradientUnits="userSpaceOnUse"><stop stop-color="#30ABE8"></stop><stop offset="0.395" stop-color="#47B4EB"></stop><stop offset="1" stop-color="#30ABE8"></stop></linearGradient></defs></svg>');function Hr(t,e){lt(e,!0);let n=Ir(e,"animate",3,!1),r=M(!n());he(()=>{n()&&setTimeout(()=>{L(r,!y(r))},100)});var i=qr(),s=N(i);it(()=>Ar(s,`${(y(r)?"on":"")??""} svelte-rxmcrf`)),V(t,i),ut()}var Vr=X('<div class="vertical svelte-e5sxwm"><!> <a href="/create" class="svelte-e5sxwm"><button class="primary svelte-e5sxwm">Create Room</button></a></div>');function zr(t){Ut(t,{children:(e,n)=>{var r=Vr(),i=N(r);Hr(i,{animate:!0}),V(e,r)},$$slots:{default:!0}})}function Vt(t,e,n=!0){let r=0,i;return function(...s){const o=Date.now();if(i&&clearTimeout(i),o-r>=e)return r=o,t(...s);n&&(i=setTimeout(()=>{r=o,t(...s)},e-(o-r)))}}async function Wr(t){return await(await fetch("/getCurrentBoardState",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})).json()}class Mt{constructor(e,n){_(this,"x",0);_(this,"y",0);this.x=e,this.y=n}set(e,n){return e instanceof Mt?(this.x=e.x,this.y=e.y):(this.x=e,n==null?this.y=e:this.y=n),this}add(e){return this.x+=e.x,this.y+=e.y,this}clone(){return new Mt(this.x,this.y)}sub(e){return this.x-=e.x,this.y-=e.y,this}mul(e){return this.x*=e.x,this.y*=e.y,this}dot(e){return this.x*e.x+this.y*e.y}mag(){return Math.sqrt(this.x**2+this.y**2)}norm(){return this.clone().mulScalar(1/this.mag())}mulScalar(e){return this.x*=e,this.y*=e,this}distanceTo(e){const n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n**2+r**2)}}function ve(t,e){return new Mt(t,e)}const Yr=()=>({visible:!0,name:"entity",position:ve(0,0)});class rn{constructor(e,n={}){_(this,"visible");_(this,"name");_(this,"children",[]);_(this,"context");_(this,"position");_(this,"id");const{name:r,visible:i,position:s}={...Yr(),...n};this.name=r,this.visible=i,this.position=s,this.context=e,this.id=nn()}draw(){if(this.visible)for(const e of this.children)e.draw()}}const sn=["red","orange","yellow","green","cyan","blue","purple","pink"];class Zr{constructor(e=1/0){_(this,"value",0);this.wrap=e}increment(){return this.value++,this.value>this.wrap&&(this.value=0),this.value}}const Jr=new Zr(sn.length-1),Gr=()=>({visible:!0,name:"cursor",position:ve(0,0),size:15,color:sn[Jr.increment()]});class Kr extends rn{constructor(n,r={}){const i={...Gr(),...r};super(n,i);_(this,"size");_(this,"color");this.size=i.size,this.color=i.color}draw(){this.visible&&(this.context.strokeStyle=this.color,this.context.save(),this.context.lineWidth=3,this.context.beginPath(),this.context.moveTo(this.position.x,this.position.y),this.context.lineTo(this.position.x,this.position.y+this.size),this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.position.x,this.position.y),this.context.lineTo(this.position.x,this.position.y-this.size),this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.position.x,this.position.y),this.context.lineTo(this.position.x+this.size,this.position.y),this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.position.x,this.position.y),this.context.lineTo(this.position.x-this.size,this.position.y),this.context.stroke(),this.context.restore())}}const Xr=()=>({visible:!0,name:"line",position:ve(0,0),width:15,color:"#000000",vertices:[]});class zt extends rn{constructor(n,r={}){const i={...Xr(),...r};super(n,i);_(this,"width");_(this,"color");_(this,"vertices");this.width=i.width,this.color=i.color,this.vertices=i.vertices}draw(){if(this.visible&&this.vertices.length!==0){this.context.save(),this.context.lineCap="round",this.context.strokeStyle=this.color,this.context.lineWidth=this.width,this.context.beginPath(),this.context.moveTo(this.vertices[0].x,this.vertices[0].y);for(const{x:n,y:r}of this.vertices.slice(1))this.context.lineTo(n,r);this.context.stroke(),this.context.restore()}}}class Qr{constructor(e,n){_(this,"context");_(this,"entities",[]);_(this,"cursors",new Map);_(this,"appState");_(this,"isMouseDown",!1);_(this,"currentLine",null);_(this,"savePoint",null);_(this,"sendCursorChangeEvent",Vt((e,n,r,i)=>{var s,o;(o=(s=this.appState.messenger)==null?void 0:s.connection)==null||o.send(dt("cursor-change",{from:{name:e,id:n},data:{x:r,y:i}}))},50).bind(this));_(this,"sendCreateNewLineEvent",Vt((e,n,r,i)=>{var s,o;(o=(s=this.appState.messenger)==null?void 0:s.connection)==null||o.send(dt("create-new-line",{from:e,data:{id:n,color:r,vertices:i}}))},50));_(this,"sendAddPointsToLineEvent",Vt((e,n,r)=>{var i,s;(s=(i=this.appState.messenger)==null?void 0:i.connection)==null||s.send(dt("add-points-to-line",{from:e,data:{id:n,vertices:r}})),this.saveVertexPoint()},50));_(this,"mousemove",e=>{var s,o;const n=this.context.canvas.getBoundingClientRect(),r=(e.clientX-n.top)*window.devicePixelRatio,i=(e.clientY-n.left)*window.devicePixelRatio;(s=this.cursors.get(this.appState.id))==null||s.position.set(r,i),this.sendCursorChangeEvent(this.appState.name,this.appState.id,r,i),this.isMouseDown&&this.currentLine&&(this.currentLine.vertices.push({x:r,y:i}),this.sendAddPointsToLineEvent({id:this.appState.id,name:this.appState.name},this.currentLine.id,((o=this.currentLine)==null?void 0:o.vertices.slice(this.savePoint||0))||[]))});_(this,"mousedown",e=>{this.isMouseDown=!0;const n=this.context.canvas.getBoundingClientRect(),r=(e.clientX-n.top)*window.devicePixelRatio,i=(e.clientY-n.left)*window.devicePixelRatio,s=new zt(this.context,{vertices:[{x:r,y:i}]});this.currentLine=s,this.addEntity(s),this.savePoint=0,this.sendCreateNewLineEvent({id:this.appState.id,name:this.appState.name},s.id,s.color,s.vertices)});_(this,"mouseup",e=>{this.isMouseDown=!1,this.currentLine=null});this.context=e,this.appState=n,this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize),this.resize()}addEntity(e){this.entities.push(e)}draw(){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height);for(const e of this.entities)e.draw()}resize(e){this.context.canvas.width=window.innerWidth,this.context.canvas.height=window.innerHeight,this.adjustForPixelRatio(),this.draw()}close(){window.removeEventListener("resize",this.resize)}adjustForPixelRatio(){this.context.canvas.setAttribute("width",`${this.context.canvas.width*window.devicePixelRatio}px`),this.context.canvas.setAttribute("height",`${this.context.canvas.height*window.devicePixelRatio}px`)}saveVertexPoint(){this.currentLine?this.savePoint=this.currentLine.vertices.length:this.savePoint=null}setupEventHandlers(){var e,n,r,i,s;this.context.canvas.addEventListener("mousemove",this.mousemove),this.context.canvas.addEventListener("mousedown",this.mousedown),window.addEventListener("mouseup",this.mouseup),(e=this.appState.messenger)==null||e.addEventListener("cursor-change",o=>{var c;(c=this.cursors.get(o.from.id))==null||c.position.set(o.data.x,o.data.y)}),(n=this.appState.messenger)==null||n.addEventListener("create-new-line",o=>{if(o.from.id===this.appState.id)return;const c=new zt(this.context);c.id=o.data.id,c.vertices.push(...o.data.vertices),this.addEntity(c)}),(r=this.appState.messenger)==null||r.addEventListener("add-points-to-line",o=>{if(o.from.id===this.appState.id)return;const c=this.entities.find(f=>f.id===o.data.id);c&&c.vertices.push(...o.data.vertices)}),(i=this.appState.messenger)==null||i.addEventListener("user-left",o=>{const c=o.from,f=this.appState.users.findIndex(l=>l.id===c.id);f!==-1&&this.appState.users.splice(f,1)}),(s=this.appState.messenger)==null||s.addEventListener("user-joined",async o=>{if(!this.appState.boardId){console.error("Could not get board id");return}const{clients:c,lines:f}=await Wr(this.appState.boardId);for(const l of c){if(this.appState.users.find(d=>d.id===l.id))continue;this.appState.users.push(l);const a=new Kr(this.context);a.position.set(l.position.x,l.position.y),a.color=l.color,this.cursors.set(l.id,a),this.addEntity(a)}if(o.from.id===this.appState.id)for(const l of f){const a=new zt(this.context,{color:l.color,vertices:l.vertices});this.addEntity(a)}})}removeEventHandlers(){this.context.canvas.removeEventListener("mousemove",this.mousemove),this.context.canvas.removeEventListener("mousedown",this.mousedown),window.removeEventListener("mouseup",this.mouseup)}}var t1=X('<div class="avatar svelte-zau2hw"> </div>'),e1=X('<div class="avatar-container svelte-zau2hw"></div>');function n1(t,e){lt(e,!0);const n=w.users;var r=e1();Lr(r,21,()=>n,br,(i,s)=>{var o=t1(),c=N(o);it(()=>pt(c,y(s).name[0].toUpperCase())),it(()=>{te(o,"title",y(s).name),Ee(o,"background-color",`var(--color-participant-${y(s).color})`),Ee(o,"border-color",`var(--color-participant-${y(s).color}-down)`)}),V(i,o)}),V(t,r),ut()}function r1(){navigator.clipboard.writeText(window.location.toString())}var i1=X('<div class="page-container svelte-1w8dxa4"><nav class="svelte-1w8dxa4"><div class="logo-container svelte-1w8dxa4"><span class="marker-logo svelte-1w8dxa4">marker</span> <p class="svelte-1w8dxa4"> </p></div> <div class="right-container svelte-1w8dxa4"><!> <button id="share-button" class="svelte-1w8dxa4">Share</button></div></nav> <canvas id="board" class="svelte-1w8dxa4"></canvas></div>');function s1(t,e){lt(e,!0);let n,r,i=S(window.innerWidth),s=S(window.innerHeight),o=M(null);he(()=>{const m=new URL(window.location.toString()).searchParams.get("id");if(!m){w.fatalError("Could not parse room id from url.");return}if(w.boardId=m,!w.name){w.navigate("join",{id:m});return}if(w.messenger=new $r(m),n=document.getElementById("board"),r=n.getContext("2d"),!r){w.fatalError("Failed to get canvas context.");return}L(o,S(new Qr(r,w))),Object.assign(window,{renderer:y(o),appState:w}),y(o).setupEventHandlers();const P=setInterval(()=>{requestAnimationFrame(()=>{var k;(k=y(o))==null||k.draw()})},1e3/60);return()=>{var k;(k=y(o))==null||k.removeEventHandlers(),clearInterval(P)}});var c=i1(),f=N(c),l=N(f),a=H(N(l),2),d=N(a),u=H(l,2),h=N(u);n1(h,{});var v=H(h,2);v.__click=[r1];var C=H(f,2);it(()=>{pt(d,w.boardName),te(C,"width",i),te(C,"height",s)}),V(t,c),ut()}_r(["click"]);var o1=X('<form class="svelte-1jjua17"><h1 class="svelte-1jjua17"> </h1> <div><label for="room-name" class="svelte-1jjua17">Room Name</label> <input type="text" id="room-name" name="roomName" class="svelte-1jjua17"></div> <div><label for="user-name" class="svelte-1jjua17">User Name</label> <input type="text" id="user-name" name="userName" class="svelte-1jjua17"></div> <div class="actions svelte-1jjua17"><a href="/"><button type="button">Cancel</button></a> <button type="submit" class="primary svelte-1jjua17"> </button></div></form>');function on(t,e){lt(e,!0);async function n(u){var C,x;const v=await(await fetch("/new",{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(u),method:"POST"})).json();w.name=u.userName,w.boardName=u.roomName,(x=(C=w.messenger)==null?void 0:C.connection)==null||x.send(dt("user-joined",{from:{name:v.userName,id:w.id},data:{}})),w.navigate("board",{id:v.id})}async function r(u){return(await(await fetch("/getRoomName",{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:u}),method:"POST"})).json()).name}he(()=>{const u=document.getElementById("room-name");if(e.type==="join"){let h=w.boardId||new URL(window.location.toString()).searchParams.get("id");if(!h){alert("No room found!"),w.navigate("");return}r(h).then(v=>{u.setAttribute("value",v),w.boardName=v}).catch(()=>{alert("Room does not exist!"),w.navigate("")})}});var i=o1(),s=N(i),o=N(s),c=H(s,2),f=H(N(c),2),l=H(c,4),a=H(N(l),2),d=N(a);it(()=>{pt(o,e.type==="create"?"New Room":"Join Room"),f.disabled=e.type==="join",pt(d,e.type==="create"?"Create Room":"Join Room")}),pr("submit",i,u=>{u.preventDefault();const h=new FormData(u.currentTarget),v=Object.fromEntries(h);if(e.type==="create")n(v).catch(console.error);else{w.name=v.userName;const C=w.boardId;w.navigate("board",{id:C})}}),V(t,i),ut()}function a1(t){Ut(t,{children:(e,n)=>{on(e,{type:"create"})},$$slots:{default:!0}})}function l1(t){Ut(t,{children:(e,n)=>{on(e,{type:"join"})},$$slots:{default:!0}})}var u1=X("<b> </b>");function c1(t,e){Ut(t,{children:(n,r)=>{var i=u1(),s=N(i);it(()=>pt(s,e.errorMessage)),V(n,i)},$$slots:{default:!0}})}var mt,wt,gt,yt,xt,bt,Et;class f1{constructor(){F(this,mt,M(null));F(this,wt,M(null));F(this,gt,M(null));_(this,"id",nn());F(this,yt,M(null));F(this,xt,M(null));F(this,bt,M(S([])));_(this,"routes",{home:zr,board:s1,create:a1,join:l1,error:c1});F(this,Et,M(""));this.parseURL()}get messenger(){return y(E(this,mt))}set messenger(e){L(E(this,mt),S(e))}get globalErrorMessage(){return y(E(this,wt))}set globalErrorMessage(e){L(E(this,wt),S(e))}get name(){return y(E(this,gt))}set name(e){L(E(this,gt),S(e))}get boardId(){return y(E(this,yt))}set boardId(e){L(E(this,yt),S(e))}get boardName(){return y(E(this,xt))}set boardName(e){L(E(this,xt),S(e))}get users(){return y(E(this,bt))}set users(e){L(E(this,bt),S(e))}get currentPage(){return y(E(this,Et))}set currentPage(e){L(E(this,Et),S(e))}parseURL(){const e=new URL(window.location.toString());switch(e.pathname.slice(1).toLowerCase()){case"":case"home":this.currentPage="home";break;case"board":this.currentPage="board";for(const r of e.searchParams.entries())r[0].toLowerCase()==="id"&&(this.boardId=r[1]);break;case"create":this.currentPage="create";break;case"join":this.currentPage="join";for(const r of e.searchParams.entries())r[0].toLowerCase()==="id"&&(this.boardId=r[1]);break;default:this.currentPage="error";break}}navigate(e,n={},r=!0){const i=new URL(r?window.location.origin:window.location.toString());i.pathname="/"+e;for(const s of Object.keys(n))i.searchParams.set(s,n[s]);history.pushState(void 0,"",i),this.currentPage=e}fatalError(e){this.globalErrorMessage=e,this.navigate("error")}}mt=new WeakMap,wt=new WeakMap,gt=new WeakMap,yt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap;const w=new f1;function d1(t,e){lt(e,!1),jr();var n=mr(),r=Hn(n);kr(r,()=>w.routes[w.currentPage],(i,s)=>{s(i,{})}),V(t,n),ut()}function h1(t){d1(t,{})}yr(h1,{target:document.getElementById("app")});
